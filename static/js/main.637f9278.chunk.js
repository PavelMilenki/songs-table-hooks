(this["webpackJsonpsongs-table"]=this["webpackJsonpsongs-table"]||[]).push([[0],{1:function(e,t,n){e.exports={App:"App_App__35IJV",container:"App_container__1Giib",tableSongs:"App_tableSongs__VeANF",songsTable:"App_songsTable__1iTOy",icon:"App_icon__hoVI9",selects:"App_selects__tukGF",select:"App_select__1idpY",paginatorContainer:"App_paginatorContainer__3dH_k",paginator:"App_paginator__1-sm5"}},156:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(27),c=n.n(o),l=(n(92),n(1)),s=n.n(l),u=n(85),i=n(21),g=n(48),m=n.n(g),p=n(76),f=n(30),E=n(77),d=n.n(E).a.create({baseURL:"https://raw.githubusercontent.com/PavelMilenki/songs-table-hooks/master/src/songs.json"}),v=function(){return d.get("")},C="/redux/songsReducer/SET_SONGS",b="/redux/songsReducer/SET_CURRENT_SONGS",h="/redux/songsReducer/SET_PAGE",y={songs:[],currentSongs:[],totalCount:1,page:1,pageCount:5},_=function(e){return{type:C,songs:e}},k=function(){return function(){var e=Object(p.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v();case 3:n=e.sent,t(_(n.data)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Message error"+e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},S=function(e){var t=e.year,n=e.country,a=e.artist,o=e.song;return r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,a),r.a.createElement("td",null,o),r.a.createElement("td",null,n),r.a.createElement("td",null,t)))},N=n(158),w=function(e){var t=e.sortByUP,n=e.sortByDown,a=e.tableElements;return r.a.createElement("table",{className:s.a.songsTable},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Artist",r.a.createElement(N.a,{className:s.a.icon,type:Y,onClick:function(){return t(P)}}),r.a.createElement(N.a,{className:s.a.icon,type:U,onClick:function(){return n(P)}})),r.a.createElement("th",null,"Song",r.a.createElement(N.a,{className:s.a.icon,type:Y,onClick:function(){return t(B)}}),r.a.createElement(N.a,{className:s.a.icon,type:U,onClick:function(){return n(B)}})),r.a.createElement("th",null,"Country",r.a.createElement(N.a,{className:s.a.icon,type:Y,onClick:function(){return t(R)}}),r.a.createElement(N.a,{className:s.a.icon,type:U,onClick:function(){return n(R)}})),r.a.createElement("th",null,"Year",r.a.createElement(N.a,{className:s.a.icon,type:Y,onClick:function(){return t(G)}}),r.a.createElement(N.a,{className:s.a.icon,type:U,onClick:function(){return n(G)}})))),a)},A=n(51),O=function(e){var t=e.option,n=e.value,a=e.selected;return r.a.createElement("option",{selected:a,value:n},t)},j=function(e){var t=e.title,n=e.getSelectorsValues,a=e.selected,o=e.onChange,c=n.map((function(e){return r.a.createElement(O,{option:e,selected:a===e,value:e,key:e+Math.random()})}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",null,t),r.a.createElement("select",{onChange:o,className:s.a.select},c))},T=function(e){var t=e.selected,n=e.songs,a=e.onChangedValue,o=function(e){var t=n.map((function(t){return t[e]}));return t=(t=Object(A.a)(new Set(t))).sort((function(e,t){return e.localeCompare(t)})),[M].concat(Object(A.a)(t))};return r.a.createElement("div",{className:s.a.selects},r.a.createElement(j,{title:P,onChange:function(e){a(P,e)},selected:t,getSelectorsValues:o(P)}),r.a.createElement(j,{title:R,onChange:function(e){a(R,e)},selected:t,getSelectorsValues:o(R)}),r.a.createElement(j,{title:G,onChange:function(e){a(G,e)},selected:t,getSelectorsValues:o(G)}))},V=function(e){for(var t=e.page,n=e.pageCount,a=e.totalCount,o=e.getPage,c=[],l=Math.ceil(a/n),u=function(e){c.push(r.a.createElement("button",{key:e,style:{background:t===e?"#1C6EA4":""},onClick:function(){return o(e,n)}},e))},i=1;i<=l;i++)u(i);return t+4<l&&(c[t+2]=r.a.createElement("span",{key:t+3},"- ... -"),c=c.filter((function(e,n){return n<t+3||n===l-1}))),t>5&&(c[1]=r.a.createElement("span",{key:2},"- ... -"),c=c.filter((function(e,n){return n<2||n>t-4}))),r.a.createElement("div",{className:s.a.paginator},r.a.createElement("div",null,r.a.createElement("select",{value:n,onChange:function(e){return o(t=1,Number(e.currentTarget.value))}},r.a.createElement("option",{value:5},"5"),r.a.createElement("option",{value:10},"10"),r.a.createElement("option",{value:25},"25"),r.a.createElement("option",{value:50},"50"),r.a.createElement("option",{value:100},"100"))),r.a.createElement("div",null,c))},x=n(83),P="Artist",B="Song",R="Country",G="Year",M="ALL",Y="up",U="down",F=function(){var e=Object(i.c)((function(e){return e.songsPage})),t=e.currentSongs,n=e.songs,o=e.page,c=e.pageCount,l=e.totalCount,g=Object(i.b)(),m=Object(a.useState)(M),p=Object(u.a)(m,2),f=p[0],E=p[1];Object(a.useEffect)((function(){g(k())}),[g]);var d=Object(x.slice)(t,[(o-1)*c],[c*o]).map((function(e){return r.a.createElement(S,{year:e.Year,country:e.Country,artist:e.Artist,song:e.Song,key:e.Year+Math.random()})})),v=function(e,n){var a=t.sort((function(t,n){return t[e].localeCompare(n[e])}));if(n===Y)g(_(a));else if(n===U){var r=a.reverse();g(_(r))}},C=function(e,t){var a=n.filter((function(n){return n[e]===t}));t===M?g(k()):(E(t),g(function(e){return{type:b,songs:e}}(a)))};return r.a.createElement("div",{className:s.a.container},r.a.createElement("div",{className:s.a.tableSongs},r.a.createElement(w,{sortByUP:function(e){v(e,Y)},sortByDown:function(e){v(e,U)},tableElements:d}),r.a.createElement(T,{onChangedValue:function(e,t){C(e,t.currentTarget.value)},selected:f,songs:n})),r.a.createElement("div",{className:s.a.paginatorContainer},r.a.createElement(V,{page:o,pageCount:c,totalCount:l,getPage:function(e,t){g(function(e,t){return{type:h,page:e,pageCount:t}}(e,t))}})))},I=n(18),J=n(84),L=Object(I.c)({songsPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return Object(f.a)({},e,{songs:t.songs,currentSongs:t.songs,totalCount:t.songs.length});case b:return Object(f.a)({},e,{currentSongs:t.songs,totalCount:t.songs.length});case h:return Object(f.a)({},e,{page:t.page,pageCount:t.pageCount});default:return e}}}),D=Object(I.d)(L,Object(I.a)(J.a)),W=D;window.store=D;var H=function(){return r.a.createElement("div",{className:s.a.app},r.a.createElement(i.a,{store:W},r.a.createElement(F,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},87:function(e,t,n){e.exports=n(156)},92:function(e,t,n){}},[[87,1,2]]]);
//# sourceMappingURL=main.637f9278.chunk.js.map